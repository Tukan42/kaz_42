<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>KAZ42 | Gold Edition</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&display=swap" rel="stylesheet">
</head>
<body>

    <div id="bg-container"></div>
    <div class="overlay"></div>

    <div id="error-modal" class="modal hidden" onclick="if(event.target === this) App.closeError()">
        <div class="modal-content">
            <span class="close-modal" onclick="App.closeError()">√ó</span>
            <div id="error-text">–û—à–∏–±–∫–∞</div>
        </div>
    </div>

    <nav>
        <div class="logo-box" onclick="App.showMenu()">
            <span class="gold-text">KAZ</span><span class="white-text">42</span>
        </div>
        <div class="nav-right">
            <div class="balance-card">
                <span class="label">BAL:</span>
                <span id="balance-display" class="val">1000</span>
                <span class="currency">$</span>
            </div>
            <button class="btn-icon" onclick="App.showProfile()">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="white"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
            </button>
        </div>
    </nav>

    <!-- MENU -->
    <main id="menu-section" class="active fade-in">
        <h1 class="section-title">Lobby</h1>
        <div class="games-grid">
            <div class="game-card" onclick="App.openGame('rocket')"><div class="icon">üöÄ</div><h3>Crash</h3></div>
            <div class="game-card" onclick="App.openGame('plinko')"><div class="icon">üìê</div><h3>Plinko</h3></div>
            <div class="game-card" onclick="App.openGame('mines')"><div class="icon">üí£</div><h3>Mines</h3></div>
            <div class="game-card" onclick="App.openGame('tower')"><div class="icon">üèõÔ∏è</div><h3>Tower</h3></div>
            <div class="game-card" onclick="App.openGame('diamonds')"><div class="icon">üíé</div><h3>Diamonds</h3></div>
            <div class="game-card" onclick="App.openGame('slots')"><div class="icon">üçí</div><h3>Slots</h3></div>
            <div class="game-card" onclick="App.openGame('dice')"><div class="icon">üé≤</div><h3>Dice</h3></div>
            <div class="game-card" onclick="App.openGame('coin')"><div class="icon">ü™ô</div><h3>Coin</h3></div>
            <div class="game-card" onclick="App.openGame('limbo')"><div class="icon">üöÄ</div><h3>Limbo</h3></div>
            <div class="game-card" onclick="App.openGame('hilo')"><div class="icon">üÉè</div><h3>Hi-Lo</h3></div>
        </div>
    </main>

    <!-- PROFILE -->
    <section id="profile-section" class="hidden fade-in">
        <div class="minimal-panel profile-panel">
            <div class="panel-header"><h2>Profile</h2></div>
            <div class="profile-balance-big"><span class="label">Balance</span><div class="value"><span id="profile-balance-view">1000</span> $</div></div>
            <div class="stats-grid">
                <div class="stat-item"><span class="stat-label">Games</span><span class="stat-val" id="stat-total">0</span></div>
                <div class="stat-item"><span class="stat-label">Wins</span><span class="stat-val green-text" id="stat-wins">0</span></div>
                <div class="stat-item"><span class="stat-label">Losses</span><span class="stat-val red-text" id="stat-losses">0</span></div>
            </div>
            <div class="action-area"><div class="input-group"><input type="number" id="add-balance-input" placeholder="Amount"><button class="btn-primary" onclick="App.addBalance()">Deposit</button></div></div>
            <button class="btn-secondary full-width" onclick="App.showMenu()">Back to Lobby</button>
        </div>
    </section>

    <!-- GAMES -->
    <section id="game-rocket" class="hidden fade-in">
        <div class="game-nav-bar"></div> 
        <div class="minimal-panel game-panel">
            <div class="panel-header"><h2>Crash</h2><button class="close-btn" onclick="App.showMenu()">√ó</button></div>
            <div class="rocket-field">
                <div id="rocket-particles"></div>
                <svg id="rocket-svg" width="100%" height="100%" preserveAspectRatio="none"><path id="rocket-line" stroke="#FFD700" stroke-width="3" fill="none"/></svg>
                <div id="rocket-obj"><div id="rocket-icon">üöÄ</div></div>
                <div class="center-stat"><div id="rocket-multiplier-center">1.00x</div><div id="rocket-status-text">WAITING</div></div>
            </div>
            <div class="controls-bar">
                <div class="bet-input-wrapper"><div class="bet-input"><span>BET</span><input type="number" id="bet-rocket" value="100"></div><div class="quick-bets" data-target="bet-rocket"></div></div>
                <button id="btn-rocket-play" class="btn-primary" onclick="GameRocket.play()">Launch</button>
                <button id="btn-rocket-cashout" class="btn-action hidden" onclick="GameRocket.cashout()">Cashout</button>
            </div>
        </div>
    </section>

    <section id="game-plinko" class="hidden fade-in">
        <div class="game-nav-bar"></div>
        <div class="minimal-panel game-panel">
            <div class="panel-header"><h2>Plinko</h2><button class="close-btn" onclick="App.showMenu()">√ó</button></div>
            <div class="plinko-wrapper"><div class="plinko-board" id="plinko-board"></div><div class="plinko-multipliers" id="plinko-multipliers"></div></div>
            <div id="plinko-msg" class="status-msg">Drop the ball</div>
            <div class="controls-bar">
                <div class="bet-input-wrapper"><div class="bet-input"><span>BET</span><input type="number" id="bet-plinko" value="100"></div><div class="quick-bets" data-target="bet-plinko"></div></div>
                <div class="bet-input"><span>RISK</span><select id="plinko-risk" onchange="GamePlinko.updateRisk()"><option value="low">Low</option><option value="medium" selected>Medium</option><option value="high">High</option></select></div>
                <button id="btn-plinko-play" class="btn-primary" onclick="GamePlinko.play()">Drop</button>
            </div>
        </div>
    </section>

    <section id="game-mines" class="hidden fade-in">
        <div class="game-nav-bar"></div>
        <div class="minimal-panel game-panel">
            <div class="panel-header"><h2>Mines</h2><button class="close-btn" onclick="App.showMenu()">√ó</button></div>
            <div class="mines-info">Win: <span id="mines-potential-win" class="gold-text">0 $</span></div>
            <div id="mines-grid" class="mines-grid"></div>
            <div class="controls-bar">
                <div class="bet-input-wrapper"><div class="bet-input"><span>BET</span><input type="number" id="bet-mines" value="100"></div><div class="quick-bets" data-target="bet-mines"></div></div>
                <div class="bet-input"><span>BOMBS</span><select id="mines-count-select"><option value="3">3</option><option value="5" selected>5</option><option value="10">10</option><option value="24">24</option></select></div>
                <button id="btn-mines-start" class="btn-primary" onclick="GameMines.start()">Play</button>
                <button id="btn-mines-cashout" class="btn-action hidden" onclick="GameMines.cashout()">Take</button>
            </div>
        </div>
    </section>

    <section id="game-tower" class="hidden fade-in">
        <div class="game-nav-bar"></div>
        <div class="minimal-panel game-panel">
            <div class="panel-header"><h2>Tower</h2><button class="close-btn" onclick="App.showMenu()">√ó</button></div>
            <div class="tower-container"><div class="tower-sidebar"><div class="tower-level active-level">1.5x</div><div class="tower-level">2.3x</div><div class="tower-level">3.5x</div><div class="tower-level">6.0x</div><div class="tower-level top-level">10x</div></div><div id="tower-grid" class="tower-grid"></div></div>
            <div id="tower-msg" class="status-msg">Climb the tower</div>
            <div class="controls-bar">
                <div class="bet-input-wrapper"><div class="bet-input"><span>BET</span><input type="number" id="bet-tower" value="100"></div><div class="quick-bets" data-target="bet-tower"></div></div>
                <button id="btn-tower-play" class="btn-primary" onclick="GameTower.play()">Start</button>
                <button id="btn-tower-cashout" class="btn-action hidden" onclick="GameTower.cashout()">Take</button>
            </div>
        </div>
    </section>

    <section id="game-diamonds" class="hidden fade-in">
        <div class="game-nav-bar"></div>
        <div class="minimal-panel game-panel">
            <div class="panel-header"><h2>Diamonds</h2><button class="close-btn" onclick="App.showMenu()">√ó</button></div>
            <div class="payouts"><span id="pay-2" class="payout-item">2x (2P)</span><span id="pay-3" class="payout-item">3x (3)</span><span id="pay-4" class="payout-item">10x (4)</span><span id="pay-5" class="payout-item">50x (5)</span></div>
            <div class="gems-grid"><div class="gem-box" id="gb1"><div class="gem" id="gem1">üíé</div></div><div class="gem-box" id="gb2"><div class="gem" id="gem2">üíé</div></div><div class="gem-box" id="gb3"><div class="gem" id="gem3">üíé</div></div><div class="gem-box" id="gb4"><div class="gem" id="gem4">üíé</div></div><div class="gem-box" id="gb5"><div class="gem" id="gem5">üíé</div></div></div>
            <div id="diamonds-msg" class="status-msg">Match colors</div>
            <div class="controls-bar">
                <div class="bet-input-wrapper"><div class="bet-input"><span>BET</span><input type="number" id="bet-diamonds" value="100"></div><div class="quick-bets" data-target="bet-diamonds"></div></div>
                <button id="btn-diamonds" class="btn-primary" onclick="GameDiamonds.play()">Bet</button>
            </div>
        </div>
    </section>

    <section id="game-slots" class="hidden fade-in">
        <div class="game-nav-bar"></div>
        <div class="minimal-panel game-panel">
            <div class="panel-header"><h2>Slots</h2><button class="close-btn" onclick="App.showMenu()">√ó</button></div>
            <div class="slots-machine"><div class="slot-window"><div class="slot-col" id="col1">7Ô∏è‚É£</div></div><div class="slot-window"><div class="slot-col" id="col2">7Ô∏è‚É£</div></div><div class="slot-window"><div class="slot-col" id="col3">7Ô∏è‚É£</div></div><div class="slot-line"></div></div>
            <div id="slots-result" class="status-msg">Press Spin</div>
            <div class="controls-bar">
                <div class="bet-input-wrapper"><div class="bet-input"><span>BET</span><input type="number" id="bet-slots" value="100"></div><div class="quick-bets" data-target="bet-slots"></div></div>
                <button id="btn-slots-spin" class="btn-primary" onclick="GameSlots.play()">Spin</button>
            </div>
        </div>
    </section>

    <section id="game-dice" class="hidden fade-in">
        <div class="game-nav-bar"></div>
        <div class="minimal-panel game-panel">
            <div class="panel-header"><h2>Dice</h2><button class="close-btn" onclick="App.showMenu()">√ó</button></div>
            <div class="scene"><div class="cube" id="dice-cube"><div class="cube__face cube__face--1">1</div><div class="cube__face cube__face--2">2</div><div class="cube__face cube__face--3">3</div><div class="cube__face cube__face--4">4</div><div class="cube__face cube__face--5">5</div><div class="cube__face cube__face--6">6</div></div></div>
            <div id="dice-msg" class="status-msg">Predict the roll</div>
            <div class="controls-bar">
                <div class="bet-input-wrapper"><div class="bet-input"><span>BET</span><input type="number" id="bet-dice" value="100"></div><div class="quick-bets" data-target="bet-dice"></div></div>
                <div class="btn-group"><button class="btn-outline dice-btn" onclick="GameDice.play(false)">1-3</button><button class="btn-outline dice-btn" onclick="GameDice.play(true)">4-6</button></div>
            </div>
        </div>
    </section>

    <section id="game-coin" class="hidden fade-in">
        <div class="game-nav-bar"></div>
        <div class="minimal-panel game-panel">
            <div class="panel-header"><h2>Coin Flip</h2><button class="close-btn" onclick="App.showMenu()">√ó</button></div>
            <div id="coin-wrapper"><div id="coin"><div class="side front">ü¶Ö</div><div class="side back">ü™ô</div></div></div>
            <div id="coin-msg" class="status-msg">Heads or Tails?</div>
            <div class="controls-bar">
                <div class="bet-input-wrapper"><div class="bet-input"><span>BET</span><input type="number" id="bet-coin" value="100"></div><div class="quick-bets" data-target="bet-coin"></div></div>
                <div class="btn-group"><button class="btn-gold-coin coin-btn" onclick="GameCoin.play('heads')">Heads</button><button class="btn-silver-coin coin-btn" onclick="GameCoin.play('tails')">Tails</button></div>
            </div>
        </div>
    </section>

    <section id="game-limbo" class="hidden fade-in">
        <div class="game-nav-bar"></div>
        <div class="minimal-panel game-panel">
            <div class="panel-header"><h2>Limbo</h2><button class="close-btn" onclick="App.showMenu()">√ó</button></div>
            <div class="limbo-display" id="limbo-result">1.00x</div>
            <div class="controls-bar">
                <div class="bet-input-wrapper"><div class="bet-input"><span>BET</span><input type="number" id="bet-limbo" value="100"></div><div class="quick-bets" data-target="bet-limbo"></div></div>
                <div class="bet-input"><span>TARGET</span><input type="number" id="limbo-target" value="2.00" step="0.01"></div>
                <button id="btn-limbo" class="btn-primary" onclick="GameLimbo.play()">Bet</button>
            </div>
        </div>
    </section>

    <section id="game-hilo" class="hidden fade-in">
        <div class="game-nav-bar"></div>
        <div class="minimal-panel game-panel">
            <div class="panel-header"><h2>Hi-Lo</h2><button class="close-btn" onclick="App.showMenu()">√ó</button></div>
            <div class="card-history" id="hilo-history"></div>
            <div class="card-area"><div id="hilo-card" class="card black">?</div></div>
            <div class="hilo-status" id="hilo-info">Start game</div>
            <div class="controls-bar">
                <div class="bet-input-wrapper"><div class="bet-input"><span>BET</span><input type="number" id="bet-hilo" value="100"></div><div class="quick-bets" data-target="bet-hilo"></div></div>
                <button id="btn-hilo-start" class="btn-primary" onclick="GameHiLo.start()">Start</button>
                <div id="hilo-controls" style="display: none; width: 100%;">
                    <div class="hilo-btns"><button class="hilo-btn btn-lo" onclick="GameHiLo.guess('lo')">LO <span id="rate-lo"></span></button><button class="hilo-btn btn-hi" onclick="GameHiLo.guess('hi')">HI <span id="rate-hi"></span></button></div>
                    <button class="btn-action full-width" onclick="GameHiLo.cashout()" style="margin-top:10px">Cashout <span id="hilo-profit"></span></button>
                </div>
            </div>
        </div>
    </section>

    <script src="script.js"></script>
</body>
</html>
